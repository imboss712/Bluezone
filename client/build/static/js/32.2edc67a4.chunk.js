(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[32],{252:function(e,t,a){"use strict";var r=a(21),n=a(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),c=(0,r(a(23)).default)(i.createElement("path",{d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42a.9959.9959 0 00-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"}),"ArrowBackRounded");t.default=c},253:function(e,t,a){"use strict";var r=a(52),n=(a(0),a(12)),i=a(86),c=a(141),s=a(252),o=a.n(s),l=a(195),d=a(1),u=Object(l.a)((function(e){var t;return{backBox:(t={marginTop:e.spacing(4)},Object(r.a)(t,e.breakpoints.down("sm"),{marginTop:e.spacing(3.5)}),Object(r.a)(t,e.breakpoints.down("xs"),{marginTop:e.spacing(3)}),Object(r.a)(t,"padding",e.spacing(1,0)),t),arrow:{fontSize:e.spacing(2.2),marginRight:e.spacing(1)}}}));t.a=function(e){var t=u(),a=e.link,r=e.text;return Object(d.jsx)(i.a,{className:t.backBox,elevation:0,children:Object(d.jsx)(n.b,{to:a,style:{textDecoration:"none"},children:Object(d.jsxs)(c.a,{color:"primary",children:[Object(d.jsx)(o.a,{className:t.arrow,color:"primary"}),r]})})})}},259:function(e,t,a){"use strict";var r=a(52),n=(a(0),a(87)),i=a(86),c=a(51),s=a(271),o=a(195),l=a.p+"static/media/loading.46b68eb6.svg",d=a(1),u=Object(o.a)((function(e){var t;return{loadingBox:{textAlign:"center",margin:"auto"},paper:{padding:e.spacing(5)},loadingIcon:{marginLeft:e.spacing(.75),verticalAlign:"text-top"},image:(t={width:300,height:300},Object(r.a)(t,e.breakpoints.down("sm"),{width:275,height:275}),Object(r.a)(t,e.breakpoints.down("xs"),{width:250,height:250}),Object(r.a)(t,e.breakpoints.down(375),{width:200,height:200}),t)}}));t.a=function(e){var t=u(),a=e.children,r=e.hideImage;return Object(d.jsx)(n.a,{className:t.loadingBox,children:Object(d.jsxs)(i.a,{className:t.paper,elevation:0,children:[r||!0===r?null:Object(d.jsx)("img",{src:l,alt:"Loading...",className:t.image}),Object(d.jsxs)(c.a,{color:"primary",variant:"h6",children:[a," ",Object(d.jsx)(s.a,{size:24,color:"primary",className:t.loadingIcon})]})]})})}},271:function(e,t,a){"use strict";var r=a(2),n=a(5),i=a(0),c=(a(7),a(8)),s=a(9),o=a(14),l=44,d=i.forwardRef((function(e,t){var a=e.classes,s=e.className,d=e.color,u=void 0===d?"primary":d,p=e.disableShrink,b=void 0!==p&&p,j=e.size,m=void 0===j?40:j,g=e.style,h=e.thickness,f=void 0===h?3.6:h,x=e.value,v=void 0===x?0:x,O=e.variant,y=void 0===O?"indeterminate":O,k=Object(n.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),w={},S={},z={};if("determinate"===y||"static"===y){var D=2*Math.PI*((l-f)/2);w.strokeDasharray=D.toFixed(3),z["aria-valuenow"]=Math.round(v),w.strokeDashoffset="".concat(((100-v)/100*D).toFixed(3),"px"),S.transform="rotate(-90deg)"}return i.createElement("div",Object(r.a)({className:Object(c.a)(a.root,s,"inherit"!==u&&a["color".concat(Object(o.a)(u))],{determinate:a.determinate,indeterminate:a.indeterminate,static:a.static}[y]),style:Object(r.a)({width:m,height:m},S,g),ref:t,role:"progressbar"},z,k),i.createElement("svg",{className:a.svg,viewBox:"".concat(22," ").concat(22," ").concat(l," ").concat(l)},i.createElement("circle",{className:Object(c.a)(a.circle,b&&a.circleDisableShrink,{determinate:a.circleDeterminate,indeterminate:a.circleIndeterminate,static:a.circleStatic}[y]),style:w,cx:l,cy:l,r:(l-f)/2,fill:"none",strokeWidth:f})))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(d)},371:function(e,t,a){"use strict";var r=a(21),n=a(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),c=(0,r(a(23)).default)(i.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.9 13.98l2.1 2.53 3.1-3.99c.2-.26.6-.26.8.01l3.51 4.68c.25.33.01.8-.4.8H6.02c-.42 0-.65-.48-.39-.81L8.12 14c.19-.26.57-.27.78-.02z"}),"InsertPhotoRounded");t.default=c},385:function(e,t,a){"use strict";var r=a(42),n=a(52),i=a(0),c=a(255),s=a(12),o=a(8),l=a(87),d=a(242),u=a(86),p=a(141),b=a(51),j=a(618),m=a(619),g=a(616),h=a(621),f=a(371),x=a.n(f),v=a(271),O=a(195),y=a(253),k=a(95),w=a(276),S=["image/jpg","image/jpeg","image/png"],z=w.e().shape({avatar:w.c().required("Required").test("fileFormat","Unsupported format! Please upload an image in jpg, jpeg or png format",(function(e){return e&&S.includes(e.type)})).test("fileSize","Image is too large! Please upload less than 2MB",(function(e){return e&&e.size<=2e6}))}),D=a(1),N=Object(i.lazy)((function(){return a.e(71).then(a.bind(null,644))})),A=Object(O.a)((function(e){var t,a;return{root:{maxWidth:600,margin:"auto"},paper:(t={padding:e.spacing(3,4)},Object(n.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(2.8,3)}),Object(n.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(2.6,2)}),Object(n.a)(t,"borderRadius",e.spacing(.75)),Object(n.a)(t,"textAlign","center"),t),box:(a={margin:e.spacing(3,4)},Object(n.a)(a,e.breakpoints.down("sm"),{margin:e.spacing(2.8,2.8)}),Object(n.a)(a,e.breakpoints.down("xs"),{margin:e.spacing(2.6,1.5)}),a),typography:{marginTop:e.spacing(4),marginBottom:e.spacing(4),color:e.palette.text.secondary},icon:{marginLeft:e.spacing(1),color:e.palette.text.secondary},userIcon:{fontSize:e.spacing(6),color:"#3F51B5"},preview:{width:e.spacing(24),height:e.spacing(24),margin:"8px auto 24px auto"},submitBtn:Object(n.a)({display:"flex",justifyContent:"flex-end"},e.breakpoints.down("xs"),{justifyContent:"space-between"})}}));t.a=function(e){var t=A(),a=e.edit,n=e.submitAvatar,f=e.previewImg,O=Object(i.useState)(null),w=Object(r.a)(O,2),S=w[0],B=w[1];return Object(i.useEffect)((function(){a&&f&&B(f)}),[a,f]),Object(D.jsx)(l.a,{className:t.root,children:Object(D.jsxs)(d.a,{children:[a&&Object(D.jsx)(y.a,{link:"/dashboard",text:"Back To Dashboard"}),Object(D.jsxs)(u.a,{className:t.paper,variant:"outlined",style:{marginTop:a?"16px":"32px"},children:[Object(D.jsx)(x.a,{className:t.userIcon}),Object(D.jsx)(b.a,{className:t.typography,variant:"h5",children:Object(D.jsx)("b",{children:a?"Update Profile Picture":"Upload Profile Picture"})}),Object(D.jsx)(c.d,{initialValues:{avatar:null},validationSchema:z,onSubmit:function(e,t){var a=t.setSubmitting,r=new FormData;r.append("avatar",e.avatar),setTimeout((function(){a(!1),n(r)}),500)},children:function(e){var r=e.isSubmitting,n=e.values,c=e.handleSubmit,d=e.setFieldValue,u=e.errors,b=e.submitForm;return Object(D.jsxs)("form",{onSubmit:c,children:[Object(D.jsx)(i.Suspense,{fallback:Object(D.jsx)(k.a,{}),children:Object(D.jsx)(N,{preview:S,values:n,errors:u})}),Object(D.jsx)(l.a,{className:t.box,children:Object(D.jsxs)(j.a,{fullWidth:!0,variant:"outlined",error:!!u.avatar,children:[Object(D.jsx)(m.a,{htmlFor:"avatar",shrink:!0,children:"Avatar"}),Object(D.jsx)(g.a,{id:"avatar","aria-describedby":"avatar-helper-text",name:"avatar",type:"file",onChange:function(e){d("avatar",e.currentTarget.files[0]),e.currentTarget.files[0]?B(URL.createObjectURL(e.currentTarget.files[0])):B(null)},inputProps:{accept:"image/*"}}),Object(D.jsx)(h.a,{id:"avatar-helper-text",children:u.avatar})]})}),Object(D.jsxs)(l.a,{className:Object(o.a)(t.box,t.submitBtn),children:[Object(D.jsx)(s.b,{to:"/dashboard",style:{textDecoration:"none",marginRight:"10px"},children:Object(D.jsx)(p.a,{size:"large",color:"primary",children:a?"Cancel":"Skip"})}),Object(D.jsx)(p.a,{size:"large",variant:"contained",color:"primary",disabled:!(!r&&!u.avatar),onClick:b,disableElevation:!0,children:r?Object(D.jsxs)(D.Fragment,{children:[a?"Updating... ":"Uploading... ",Object(D.jsx)(v.a,{size:16,className:t.icon})]}):a?"Update Avatar":"Upload Avatar"})]})]})}})]})]})})}},626:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(34),i=a(19),c=a(90),s=a(54),o=a(385),l=a(259),d=a(1),u=Object(r.lazy)((function(){return a.e(4).then(a.bind(null,270))}));t.default=Object(n.b)((function(e){return{auth:e.auth,profile:e.profile}}),(function(e){return{onGetAvatar:function(t){return e(s.k(t))},onUpload:function(t,a){return e(s.M(t,a))}}}))((function(e){var t=e.history,a=e.onGetAvatar,n=e.onUpload,s=e.auth.user,p=e.profile,b=p.avatar,j=p.avatarLoading,m=p.avatarError;if(Object(r.useEffect)((function(){a(s._id)}),[a,s._id]),s&&!s.hasAvatar)return Object(d.jsx)(i.a,{to:"/upload-avatar"});if(j||null===b)return Object(d.jsx)(l.a,{hideImage:!0,children:"Fetching Profile Image..."});if(null===b&&m&&m.status)return Object(d.jsx)(r.Suspense,{children:Object(d.jsx)(u,{hideImage:!0,status:m.status,statusText:m.msg})});if(b){var g="data:image/png;base64,".concat(b);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(c.a,{children:[Object(d.jsxs)("title",{children:["Update Avatar ",void 0===s.name?null:"- ".concat(s.name)," | Bluezone"]}),Object(d.jsx)("link",{rel:"canonical",href:"https://www.bluezone.fun/update-avatar"}),Object(d.jsx)("meta",{name:"robots",content:"noindex, nofollow"}),Object(d.jsx)("meta",{property:"og:locale",content:"en_US"}),Object(d.jsx)("meta",{property:"og:type",content:"website"}),Object(d.jsx)("meta",{property:"og:title",content:"Update Avatar | Bluezone"}),Object(d.jsx)("meta",{property:"og:url",content:"https://www.bluezone.fun/update-avatar"}),Object(d.jsx)("meta",{name:"twitter:card",content:"summary"}),Object(d.jsx)("meta",{name:"twitter:title",content:"Update Avatar | Bluezone"})]}),Object(d.jsx)(o.a,{submitAvatar:function(e){n(e,t)},previewImg:g,edit:!0})]})}}))}}]);
//# sourceMappingURL=32.2edc67a4.chunk.js.map